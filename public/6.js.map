{"version":3,"sources":["webpack:///./resources/js/pages/cart.ts"],"names":["d","cart","items","wish","count","total","cartLoader","wishLoader","q","loadingData","userId","scrollTop","removeItemFromCart","c","id","this","showBtnLoader","removeItem","updateCartItem","updateCartNative","product","qty","size","color","then","res","hideBtnLoader","spinner","document","querySelector","classList","remove","add","beforeMount","attachToGlobal","mounted","$on","_","Cart"],"mappings":"0IAsBA,yE,OACW,EAAAA,EAAc,CACjBC,KAAM,CACFC,MAAO,GACPC,KAAM,GACNC,OAAQ,EACRC,MAAO,GAEXC,YAAY,EACZC,YAAY,EACZC,EAAG,GACHC,YAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7BC,OAAQ,EACRC,UAAW,G,EAkDnB,OA/DkC,iBAgBvB,YAAAC,mBAAP,SAA0BC,EAAsBC,GAC5CC,KAAKC,cAAcF,GAEnBC,KAAKE,WAAW,OAAQJ,IAGrB,YAAAK,eAAP,SAAsBL,EAAsBC,GAA5C,WACIC,KAAKC,cAAcF,GACnBC,KAAKI,iBACDN,EAAEO,QACFP,EAAEQ,IACFR,EAAES,KACFT,EAAEU,MACFV,GACFW,MAAK,SAAAC,GACH,EAAKC,cAAcZ,OAInB,YAAAE,cAAR,SAAsBF,GAClB,IAAMa,EAAUC,SAASC,cAAc,IAAIf,GACvCa,GACAA,EAAQG,UAAUC,OAAO,WAIzB,YAAAL,cAAR,SAAsBZ,GAClB,IAAMa,EAAUC,SAASC,cAAc,IAAIf,GACvCa,GACAA,EAAQG,UAAUE,IAAI,WAI9B,YAAAC,YAAA,WACIlB,KAAKmB,eAAenB,KAAM,CACtB,qBACA,iBACA,WACA,iBAIR,YAAAoB,QAAA,sBACIpB,KAAKqB,IAAI,YAAY,SAAAC,GACjB,EAAKrC,EAAES,YAAc,OA5DZ6B,EAAI,aADxB,KACoBA,GAArB,CAAkC,YAAO,MAApB","file":"6.js","sourcesContent":["import { Component, Mixins } from \"vue-property-decorator\";\r\nimport Super from \"./super\";\r\nimport CartInterface from \"../interfaces/cart\";\r\nimport CartItemInterface from \"../interfaces/cart-item\";\r\nimport ProductMixin from \"../mixins/product-mixin\";\r\nimport ProductInterface from \"../interfaces/product\";\r\nimport Axios from \"axios\";\r\nimport AddressInterface from \"../interfaces/address\";\r\nimport OrderInterface from '../interfaces/order';\r\n\r\n\r\nexport interface CartData {\r\n    cart: CartInterface;\r\n    cartLoader: boolean;\r\n    wishLoader: boolean;\r\n    q: string;\r\n    loadingData: number[];\r\n    userId: number;\r\n    scrollTop: number;\r\n}\r\n\r\n@Component\r\nexport default class Cart extends Mixins(ProductMixin) {\r\n    public d: CartData = {\r\n        cart: {\r\n            items: [],\r\n            wish: [],\r\n            count: -5,\r\n            total: 0\r\n        },\r\n        cartLoader: true,\r\n        wishLoader: true,\r\n        q: \"\",\r\n        loadingData: [1, 2, 3, 4, 5, 6],\r\n        userId: 0,\r\n        scrollTop: 0\r\n    };\r\n\r\n    public removeItemFromCart(c: CartItemInterface, id: string) {\r\n        this.showBtnLoader(id);\r\n\r\n        this.removeItem(\"cart\", c);\r\n    }\r\n\r\n    public updateCartItem(c: CartItemInterface, id: string) {\r\n        this.showBtnLoader(id);\r\n        this.updateCartNative(\r\n            c.product as ProductInterface,\r\n            c.qty,\r\n            c.size,\r\n            c.color,\r\n            c\r\n        ).then(res => {\r\n            this.hideBtnLoader(id);\r\n        });\r\n    }\r\n\r\n    private showBtnLoader(id: string) {\r\n        const spinner = document.querySelector(`#${id}`) as HTMLSpanElement;\r\n        if (spinner) {\r\n            spinner.classList.remove(\"d-none\");\r\n        }\r\n    }\r\n\r\n    private hideBtnLoader(id: string) {\r\n        const spinner = document.querySelector(`#${id}`) as HTMLSpanElement;\r\n        if (spinner) {\r\n            spinner.classList.add(\"d-none\");\r\n        }\r\n    }\r\n\r\n    beforeMount() {\r\n        this.attachToGlobal(this, [\r\n            \"removeItemFromCart\",\r\n            \"updateCartItem\",\r\n            \"addOrder\",\r\n            \"updateOrder\"\r\n        ]);\r\n    }\r\n\r\n    mounted() {\r\n        this.$on(\"cartDone\", _ => {\r\n            this.d.loadingData = [];\r\n        });\r\n    }\r\n}\r\n"],"sourceRoot":""}