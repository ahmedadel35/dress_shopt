{"version":3,"sources":["webpack:///./resources/js/pages/user-ctrl.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { Component, Mixins } from \"vue-property-decorator\";\r\nimport Super from \"./super\";\r\nimport CartInterface from \"../interfaces/cart\";\r\nimport CartItemInterface from \"../interfaces/cart-item\";\r\nimport Axios from \"axios\";\r\nimport AddressInterface from \"../interfaces/address\";\r\nimport { FormInpts } from \"./order-ctrl\";\r\nimport AddressMixin from \"../mixins/address-mixin\";\r\nimport { addListener } from \"cluster\";\r\n\r\nexport interface UserCtrlData {\r\n    cart: CartInterface;\r\n    cartLoader: boolean;\r\n    wishLoader: boolean;\r\n    q: string;\r\n    userId: number;\r\n    scrollTop: number;\r\n    items: CartItemInterface[];\r\n    orderId: string;\r\n    creating: boolean;\r\n    form: AddressInterface;\r\n    error: AddressInterface;\r\n    address: AddressInterface;\r\n    hasErrors: boolean;\r\n    addressChecked: boolean;\r\n    profile: {\r\n        img: HTMLInputElement;\r\n        prev: string;\r\n        hasErr: boolean;\r\n        errors: {\r\n            img: string[];\r\n        };\r\n        uploading: boolean;\r\n    };\r\n    completing: boolean;\r\n}\r\n\r\n@Component\r\nexport default class UserCtrl extends Mixins(AddressMixin) {\r\n    public d: UserCtrlData = {\r\n        cart: {\r\n            items: [],\r\n            // @ts-ignore\r\n            loaders: [1, 2, 3, 4],\r\n            wish: [],\r\n            count: 0,\r\n            total: 0\r\n        },\r\n        cartLoader: true,\r\n        wishLoader: true,\r\n        q: \"\",\r\n        userId: 0,\r\n        scrollTop: 0,\r\n        items: [],\r\n        orderId: \"\",\r\n        creating: false,\r\n        form: FormInpts,\r\n        error: FormInpts,\r\n        address: FormInpts,\r\n        hasErrors: false,\r\n        addressChecked: false,\r\n        profile: {\r\n            // @ts-ignore\r\n            img: {},\r\n            prev: \"\",\r\n            hasErr: false,\r\n            errors: { img: [] },\r\n            uploading: false\r\n        },\r\n        completing: false\r\n    };\r\n\r\n    public openItemsModal(data: string, orderId: string) {\r\n        this.d.items = [...JSON.parse(data || \"[]\")];\r\n        // console.log(JSON.parse(data || \"[]\"));\r\n        this.d.orderId = orderId;\r\n        const modal = document.getElementById(\"items-modal\") as HTMLDivElement;\r\n        if (modal) {\r\n            // @ts-ignore\r\n            new Modal(modal).show();\r\n        }\r\n    }\r\n\r\n    public createAddress(close: boolean = false, update: boolean = false) {\r\n        // console.log('asdasdasd');\r\n        const modal = document.getElementById(\r\n            \"address-form-modal\"\r\n        ) as HTMLDivElement;\r\n        this.d.form = update ? this.d.address : this.resetFormObj;\r\n        this.d.error = this.resetFormObj;\r\n        // console.log(modal);\r\n        if (modal) {\r\n            if (close) {\r\n                // @ts-ignore\r\n                return new Modal(modal).hide();\r\n            }\r\n            // @ts-ignore\r\n            new Modal(modal).show();\r\n        }\r\n    }\r\n\r\n    public saveAddress() {\r\n        this.d.hasErrors = this.validateData(this.d);\r\n        if (this.d.creating || this.d.hasErrors) {\r\n            return;\r\n        }\r\n        console.log(this.d.address);\r\n        const update = (this.d.address.id as number) > 0;\r\n        this.d.creating = true;\r\n        this.saveAddressNative(this.d, update, { withTrans: true }).then(\r\n            res => {\r\n                if (\r\n                    !res ||\r\n                    (!update && !res.address) ||\r\n                    (update && res.address)\r\n                ) {\r\n                    this.d.creating = false;\r\n                    this.error();\r\n                    return;\r\n                }\r\n\r\n                if (!update) {\r\n                    this.createAddressElem(res);\r\n                } else {\r\n                    location.reload();\r\n                }\r\n\r\n                this.createAddress(true);\r\n                this.d.address = this.resetFormObj;\r\n                this.d.creating = false;\r\n                this.d.form = this.resetFormObj;\r\n                (document.querySelector(\r\n                    \"#emptyMess\"\r\n                ) as HTMLDivElement).classList.add(\"d-none\");\r\n            }\r\n        );\r\n    }\r\n\r\n    public editAddress(data: string) {\r\n        // this.d.address = this.resetFormObj;\r\n        this.d.address = JSON.parse(data || \"{}\");\r\n        this.createAddress(false, true);\r\n    }\r\n\r\n    public deleteAddress(addId: number) {\r\n        const loader = document.querySelector(\r\n            `#spinnerDelete${addId}`\r\n        ) as HTMLDivElement;\r\n        if (loader && !loader.classList.contains(\"d-none\")) {\r\n            return;\r\n        }\r\n        this.showLoader(`spinnerDelete${addId}`);\r\n        Axios.delete(`/address/${addId}`).then(res => {\r\n            if (!res || res.status !== 204) {\r\n                this.error();\r\n                this.hideLoader(`spinnerDelete${addId}`);\r\n                return;\r\n            }\r\n\r\n            this.hideLoader(`address${addId}`);\r\n            this.hideLoader(`spinnerDelete${addId}`);\r\n        });\r\n    }\r\n\r\n    public validateOnChange() {\r\n        this.d.hasErrors = this.validateData(this.d);\r\n    }\r\n\r\n    public previewImg(ev) {\r\n        const inp: HTMLInputElement = ev.target;\r\n        if (!inp.files || !inp.files[0]) {\r\n            this.d.profile.prev = \"\";\r\n            return;\r\n        }\r\n        this.d.profile.img = inp;\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = e => {\r\n            this.d.profile.prev = (e.target as any).result;\r\n        };\r\n\r\n        reader.readAsDataURL((inp.files as FileList)[0]);\r\n    }\r\n\r\n    public uploadImage() {\r\n        if (\r\n            this.d.profile.uploading ||\r\n            !this.d.profile.img?.files ||\r\n            !this.d.profile.img?.files[0]\r\n        ) {\r\n            // return;\r\n        }\r\n        this.d.profile.uploading = true;\r\n        const form = new FormData();\r\n        form.append(\"img\", (this.d.profile.img.files as FileList)[0]);\r\n\r\n        Axios.post(\"/user/profile/image\", form, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        }).then(res => {\r\n            if (!res || !res.data) {\r\n                this.error();\r\n                this.d.profile.uploading = false;\r\n                return;\r\n            }\r\n\r\n            if (res.status === 422) {\r\n                this.d.profile.hasErr = true;\r\n                this.d.profile.errors.img = res.data.errors.img;\r\n                this.d.profile.uploading = false;\r\n                return;\r\n            }\r\n\r\n            this.d.profile.uploading = false;\r\n            this.success();\r\n            this.d.profile.prev = \"\";\r\n            // @ts-ignore\r\n            this.d.profile.img = {};\r\n            this.updateBgImage(\".nav-right .x-pimg\", res.data.img);\r\n            this.updateBgImage(\".navbar .x-pimg\", res.data.img);\r\n            this.updateBgImage(\".sidebar .x-pimg\", res.data.img);\r\n        });\r\n    }\r\n\r\n    public deleteRate(rid: number) {\r\n        const spinner = document.getElementById(\r\n            `spinner${rid}`\r\n        ) as HTMLDivElement;\r\n        const rate = document.getElementById(`rateid${rid}`) as HTMLDivElement;\r\n        if (\r\n            (spinner.parentElement as HTMLElement).classList.contains(\r\n                \"disabled\"\r\n            )\r\n        ) {\r\n            // return;\r\n        }\r\n        (spinner.parentElement as HTMLElement).classList.add(\"disabled\");\r\n        spinner.classList.remove(\"d-none\");\r\n\r\n        Axios.delete(`/rates/${rid}`).then(res => {\r\n            if (!res || res.status !== 204) {\r\n                this.error();\r\n                (spinner.parentElement as HTMLElement).classList.remove(\r\n                    \"disabled\"\r\n                );\r\n                spinner.classList.add(\"d-none\");\r\n                return;\r\n            }\r\n\r\n            (spinner.parentElement as HTMLElement).classList.remove(\"disabled\");\r\n            spinner.classList.add(\"d-none\");\r\n            this.success();\r\n            // remove rate element\r\n            (rate.parentElement as HTMLElement).classList.add(\"d-none\");\r\n        });\r\n    }\r\n\r\n    private updateBgImage(selector: string, imgUrl: string) {\r\n        const el = document.querySelector(selector) as HTMLDivElement;\r\n        if (el) {\r\n            el.style.backgroundImage = `url(/${imgUrl})`;\r\n        }\r\n    }\r\n\r\n    private createAddressElem(address: AddressInterface) {\r\n        const parent = document.createElement(\"div\") as HTMLDivElement;\r\n        parent.id = `address${address.id}`;\r\n        parent.classList.add(\"col-md-6\", \"mb-3\");\r\n        const child = document.createElement(\"address\");\r\n        child.innerHTML = `<div class='card card-body'><h5>${\r\n            address.firstName\r\n        } ${address.lastName}</h5> (${\r\n            typeof address.dep === \"number\" ? address.dep : \"\"\r\n        }) ${address.address} ${address.city}<br> <strong>${address.gov}, ${\r\n            address.country\r\n        }</strong><br>\r\n        <a class=\"mt-2\" href=\"tel:${address.phoneNumber}\">\r\n    <i class=\"fas fa-phone-alt mx-1\"></i>\r\n    ${address.phoneNumber}\r\n</a></div>`;\r\n        parent.append(child);\r\n        const addressList = document.querySelector(\r\n            `#address-list-row`\r\n        ) as HTMLDivElement;\r\n        // parent.setAttribute('v-on:click', 'h.d.sdwsdsa()');\r\n        addressList.prepend(parent);\r\n        // this.$forceUpdate();\r\n    }\r\n\r\n    private showLoader(id: string) {\r\n        const loader = document.querySelector(`#${id}`) as HTMLDivElement;\r\n        if (loader) {\r\n            loader.classList.remove(\"d-none\");\r\n        }\r\n    }\r\n\r\n    private hideLoader(id: string) {\r\n        const loader = document.querySelector(`#${id}`) as HTMLDivElement;\r\n        if (loader) {\r\n            loader.classList.add(\"d-none\");\r\n        }\r\n    }\r\n\r\n    public completeOrder(id: string) {\r\n        const spinner = document.querySelector(\r\n            `#spinord${id}`\r\n        ) as HTMLDivElement;\r\n        const btn = spinner.parentElement as HTMLElement;\r\n        if (!spinner.classList.contains(\"d-none\")) {\r\n            return;\r\n        }\r\n        btn.classList.add(\"disabled\");\r\n        spinner.classList.remove(\"d-none\");\r\n\r\n        Axios.post(`/track/${id}/complete`).then(res => {\r\n            if (!res || !res.data || !res.data.updated) {\r\n                this.error();\r\n                btn.classList.remove(\"disabled\");\r\n                spinner.classList.add(\"d-none\");\r\n                return;\r\n            }\r\n\r\n            btn.classList.remove(\"disabled\");\r\n            spinner.classList.add(\"d-none\");\r\n            this.success();\r\n            btn.classList.add(\"d-none\");\r\n        });\r\n    }\r\n\r\n    get resetFormObj(): AddressInterface {\r\n        return {\r\n            id: 0,\r\n            userMail: \"\",\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            address: \"\",\r\n            dep: \"\",\r\n            city: \"\",\r\n            country: \"\",\r\n            gov: \"\",\r\n            postCode: \"\",\r\n            phoneNumber: \"\",\r\n            notes: \"\"\r\n        };\r\n    }\r\n\r\n    beforeMount() {\r\n        this.attachToGlobal(this, [\r\n            \"openItemsModal\",\r\n            \"editAddress\",\r\n            \"deleteAddress\",\r\n            \"createAddress\",\r\n            \"saveAddress\",\r\n            \"validateOnChange\",\r\n            \"previewImg\",\r\n            \"uploadImage\",\r\n            \"deleteRate\",\r\n            \"completeOrder\"\r\n        ]);\r\n    }\r\n}\r\n"],"sourceRoot":""}