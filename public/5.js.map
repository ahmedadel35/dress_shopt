{"version":3,"sources":["webpack:///./resources/js/pages/contact-us.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { Component } from \"vue-property-decorator\";\r\nimport Super from \"./super\";\r\nimport CartInterface from \"../interfaces/cart\";\r\nimport Axios from \"axios\";\r\n\r\nexport interface Form {\r\n    userName: string;\r\n    userMail: string;\r\n    userMessage: string;\r\n    sending?: boolean;\r\n    hasErrors?: boolean;\r\n}\r\n\r\nexport interface ContactUsData {\r\n    cart: CartInterface;\r\n    cartLoader: boolean;\r\n    wishLoader: boolean;\r\n    q: string;\r\n    userId: number;\r\n    scrollTop: number;\r\n    form: Form;\r\n    errors: Form;\r\n}\r\n\r\n@Component\r\nexport default class ContactUs extends Super {\r\n    public d: ContactUsData = {\r\n        cart: {\r\n            items: [],\r\n            // @ts-ignore\r\n            loaders: [1, 2, 3, 4],\r\n            wish: [],\r\n            count: 0,\r\n            total: 0\r\n        },\r\n        cartLoader: true,\r\n        wishLoader: true,\r\n        q: \"\",\r\n        userId: 0,\r\n        scrollTop: 0,\r\n        form: {\r\n            userMail: \"\",\r\n            userName: \"\",\r\n            userMessage: \"\",\r\n            sending: false,\r\n            hasErrors: false\r\n        },\r\n        errors: {\r\n            userMail: \"\",\r\n            userName: \"\",\r\n            userMessage: \"\"\r\n        }\r\n    };\r\n\r\n    public sendMail() {\r\n        this.d.form.hasErrors = this.validateMail();\r\n        if (this.d.form.sending || this.d.form.hasErrors) {\r\n            return;\r\n        }\r\n\r\n        this.d.form.sending = true;\r\n\r\n        Axios.post(\"/mail\", this.d.form).then(res => {\r\n            if (!res || !res.data) {\r\n                this.error();\r\n                this.d.form.sending = false;\r\n                return;\r\n            }\r\n\r\n            if (res.status === 422) {\r\n                this.d.errors = res.data.errors;\r\n                this.d.form.hasErrors = true;\r\n                this.d.form.sending = false;\r\n                return;\r\n            }\r\n\r\n            this.success(this.getLang(2), this.getLang(12));\r\n            this.d.form.sending = false;\r\n            this.d.form.userMessage = '';\r\n        });\r\n    }\r\n\r\n    public validateOnKeyPress() {\r\n        this.d.form.hasErrors = this.validateMail();\r\n    }\r\n\r\n    private validateMail() {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if (!re.test(this.d.form.userMail)) {\r\n            return true;\r\n        }\r\n\r\n        if (this.d.form.userMessage.length < 5) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    beforeMount() {\r\n        this.attachToGlobal(this, [\"sendMail\", \"validateOnKeyPress\"]);\r\n    }\r\n\r\n    mounted() {\r\n        this.d.form.userName = window[\"xjs\"]?.userName ?? \"\";\r\n        this.d.form.userMail = window[\"xjs\"]?.userMail ?? \"\";\r\n    }\r\n}\r\n"],"sourceRoot":""}